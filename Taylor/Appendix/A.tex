\section{Orthonormal Basis of $L^2(\triangle_{k,T})$}
For the sake of completeness, we here present a simple procedure to build an ONB of $L^2(\triangle_{k,T})$ for some fixed $k\ge 1$. We adopt the following strategy,
$$ L^2([0,T]) \;\; \overset{\text{(i)}}{\longrightarrow}
 \;\; L^2([0,T]^k) \;\; \overset{\text{(ii)}}{\longrightarrow} \;\; L^2(\triangle_{k,T}).$$
 (i) 
%\xrightarrow{\hspace*{2cm}}
Let $(f_l)$ be an ONB of $L^2([0,T])$  and define
    $$F_{\gamma}(t_1,...,t_k) = f^{\otimes \gamma}(t_1,...,t_k) := f_{\gamma_1}(t_1)\cdots f_{\gamma_k}(t_k),\quad  \gamma \in \N^k. $$
    
\begin{proposition}
    $(F_{\gamma})_{\gamma \in \N^k}$ is a \rr{symmetric} ONB of $L^2([0,T]^k)$. 
\end{proposition}
\begin{proof}
\\
\\
The symmetry is immediate. The fact that $(F_{\gamma})$ is an orthonormal system  simply follows from 
    \begin{align*}
        (F_{\gamma},F_{\lambda})_{L^2([0,T]^k)} = \prod_{i=1}^k (f_{\gamma_i},f_{\lambda_i})_{L^2([0,T])} = \prod_{i=1}^k \delta_{\gamma_i\, \lambda_i} = \delta_{\gamma\, \lambda}
    \end{align*}
   We finally show the spanning property. Let $\phi \in L^2([0,T]^k)$. Then $\phi(\cdot,t_2,...,t_k)\in L^2([0,T]) $ for fixed $(t_2,...,t_k)$, so that 
       \begin{align*}
       \phi(t_1,...,t_k) &= \sum_{l_1=1}^{\infty} \xi_{l_1}(t_2,...,t_k) f_{l_1}(t_1) , \quad  \xi_{l_1}(t_2,...,t_k)= (\phi(\cdot,t_2,...,t_k),f_{l_1})_{L^2([0,T])}
    \end{align*}
    The same argument applies to every
    $\xi_{l_1}(\cdot,t_3,...,t_k) \in L^2([0,T]) $, $l_1 \in \N$, giving 
    $$\xi_{l_1\, l_2}(t_3,...,t_k) = (\xi_{l_1}(\cdot,t_3,...,t_k),f_{l_2})_{L^2([0,T])} = (\phi(\cdot,\cdot,t_3,...,t_k),f_{l_1} \otimes f_{l_2})_{L^2([0,T]^2)} $$ and so on. Ultimately,  by definition of $F_{\gamma}$,
    $$\phi(t_1,...,t_k) =  \sum_{\gamma \in \N^{k}}  \xi_{\gamma} F_{\gamma}(t_1,...,t_k), \quad \xi_{\gamma} = (\phi,F_{\gamma})_{L^2([0,T]^k)}.  $$
\end{proof} 

%We first present how to construct an ONB of $L^2(\triangle_{k,T})$ from an  ONB of $L^2([0,T]^k)$. 
 
(ii)  
Let $\Sigma_k$ be the set of permutations of  $(t_1,...,t_k) \in [0,T]^{k}$. %i.e.
%\sigma \in \Sigma \, \Longleftrightarrow \sigma(t_1,...,t_k) $$
Contrary to \cite{Oksendal}, we choose to permute the time points instead of the indices $\{1,...,k\}$. This will alleviate the notations for the following result and its proof. %This allows to directly map the simplex $\triangle_{k,T}$ onto any of 


\begin{proposition}
Let  $(G_{l})$ be a symmetric ONB of $L^2([0,T]^k)$, i.e. 
$$G_{l} \circ \sigma = G_l\quad \forall\, \sigma \in \Sigma_k.$$% := \{ \text{permutations of } (t_1,...,t_k) \in [0,T]^{k}\}.$$ 
Then 
$ (F_{l}) =\left(\sqrt{k!} \, G_l\big |_{\triangle_{k,T}}\right)$
is an ONB of $L^2(\triangle_{k,T})$.
\end{proposition}
\begin{proof}
The symmetry of $(G_l)$ gives
\begin{align*}
 (F_{l}, F_{m})_{L^2(\triangle_{k,T})} &= k!\, (G_{l}, G_{m})_{L^2(\triangle_{k,T})}\\
 &=\sum_{\sigma \in \Sigma_k} (G_{l}\circ \sigma, G_{m}\circ \sigma)_{L^2(\triangle_{k,T})} \\
 &= \sum_{\sigma \in \Sigma_k} (G_{l}, G_{m})_{L^2(\sigma(\triangle_{k,T}))}\\
 &=  (G_{l}, G_{m})_{L^2([0,T]^k)} \qquad \left( \coprod_{\sigma \in \Sigma_k} \sigma(\triangle_{k,T}) = [0,T]^k \right)\\
 &= \delta_{lm}
\end{align*}
Hence $(F_{l})$ forms  an orthonormal system of $L^2(\triangle_{k,T})$. 
%Second, the linear independence of $(G_l)$ carries over to  $(F_l)$. 
To show that $\text{span}((F_l)_{l=1}^{\infty}) = L^2(\triangle_{k,T})$, pick $\phi \in L^2(\triangle_{k,T})$ and define its extension to $[0,T]^k$ by
$$\Phi = \phi \circ \pi_{\triangle_{k,T}},  $$
with $\pi_{\triangle_{k,T}} \in \Sigma_k \, \text{s.t. } \pi_{\triangle_{k,T}}([0,T]^k) = \triangle_{k,T}$ (ordering of time points). Then $$\lVert \Phi \rVert^2_{L^2([0,T]^k)} = k! \,  \lVert \Phi \rVert^2_{L^2(\triangle_{k,T})} < \infty\; \Longrightarrow \Phi \in L^2([0,T]^k).$$
Finally, using the symmetry of $(G_l)$,  for $(t_1,...,t_k) \in \triangle_{k,T}$, 
\begin{align*}
    \phi &= \Phi\big |_{\triangle_{k,T}}\\
    &= \sum_{l} (\Phi, G_l)_{{L^2([0,T]^k)}} G_l\big |_{\triangle_{k,T}} \\
    &= \sum_{l} \frac{1}{\sqrt{k!}} (\phi \circ \pi_{\triangle_{k,T}}, G_l \circ \pi_{\triangle_{k,T}} )_{{L^2(\triangle_{k,T})}}   \,  F_l\\
    &= \sum_{l} \sqrt{k!} \, (\phi, G_l)_{{L^2([0,T]^k)}}   \,  F_l\\
     &= \sum_{l} (\phi , F_l  )_{{L^2(\triangle_{k,T})}}  \,  F_l.
\end{align*}

\end{proof}
    
% \begin{remark}
% Contrary to \cite{Oksendal}, we choose to permute the time points $(t_1,...,t_k)$ instead of the indices themselves.This gives the advantage of transforming the simplex 
% \end{remark}

% \begin{proposition}
% Let  $(G_{l}) \in \text{ONB}(L^2([0,T]^k))$ and $\Sigma_k = \{ \text{permutations of } (t_1,...,t_k) \in [0,T]^{k}\}$. Then 
% $$ F_{l} =\sqrt{k!} \,  \tilde{G}_l, \quad  \tilde{G}_l = \frac{1}{\sqrt{k!}} \sum_{\sigma \in \Sigma_k} G_{l} \circ \sigma,\quad l\in \N, $$ 
% is an ONB of $L^2(\triangle_{k,T})$.
% \end{proposition}
% \begin{proof}
% By construction, $(F_{l})$ are symmetric functions, i.e. $F_{l} \circ \sigma = F_l$ and defined on the whole hypercube $[0,T]^k$.
% Therefore,
% \begin{align*}
%  (F_{l}, F_{m})_{L^2(\triangle_{k,T})} &= \frac{1}{k!}\sum_{\sigma \in \Sigma_k} (F_{l}\circ \sigma, F_{m}\circ \sigma)_{L^2(\triangle_{k,T})} \\
%  &= \frac{1}{k!}\sum_{\sigma \in \Sigma_k} (F_{l}, F_{m})_{L^2(\sigma(\triangle_{k,T}))}\\
%  &= \frac{1}{k!} (F_{l}, F_{m})_{L^2([0,T]^k)}
% \end{align*}
% which shows that $(G_{k,l})_{l=1}^{\infty}$ forms  an orthonormal system of $L^2(\triangle_{k,T})$

% \end{proof}

\begin{remark}
If $F_{\gamma} = f^{\otimes \gamma} = \prod_{l=1}^{\infty} f_l^{\otimes \bar{\gamma}_l}$, $\bar{\gamma}_l = \sum_{j=1}^{k} \mathds{1}_{\{\gamma_j = l\}}$, then 
$$(J_k F_{\gamma})(X_t) = \prod_{l=1}^{\infty} H_{\bar{\gamma}_l}((f_l \bullet X )_t),$$
so that $
    g(X_T) = \sum_k \sum_{\gamma} \xi_{k,\gamma} \prod_{l=1}^{\infty}  H_{\bar{\gamma}_l}((f_l \bullet X )_T)$.
\end{remark}
